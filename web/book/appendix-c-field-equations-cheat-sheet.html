<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Field Equations Cheat Sheet - Minimizing Trust, Maximizing Truth</title>


        <!-- Custom HTML head -->
        <script>
        window.MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true,
            processEnvironments: true
          },
          options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          }
        };
        </script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The Architecture of Verifiable Secrets - A comprehensive guide to Zero-Knowledge Proofs">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Foundations</li><li class="chapter-item expanded "><a href="01-the-trust-problem.html"><strong aria-hidden="true">1.</strong> The Trust Problem</a></li><li class="chapter-item expanded "><a href="02-the-alchemical-power-of-polynomials.html"><strong aria-hidden="true">2.</strong> The Alchemical Power of Polynomials</a></li><li class="chapter-item expanded "><a href="03-the-sum-check-protocol.html"><strong aria-hidden="true">3.</strong> The Sum-Check Protocol</a></li><li class="chapter-item expanded "><a href="04-multilinear-extensions.html"><strong aria-hidden="true">4.</strong> Multilinear Extensions</a></li><li class="chapter-item expanded "><a href="05-univariate-polynomials-and-finite-fields.html"><strong aria-hidden="true">5.</strong> Univariate Polynomials and Finite Fields</a></li><li class="chapter-item expanded "><a href="06-commitment-schemes.html"><strong aria-hidden="true">6.</strong> Commitment Schemes</a></li><li class="chapter-item expanded affix "><li class="part-title">Core Protocols</li><li class="chapter-item expanded "><a href="07-the-gkr-protocol.html"><strong aria-hidden="true">7.</strong> The GKR Protocol</a></li><li class="chapter-item expanded "><a href="08-from-circuits-to-polynomials.html"><strong aria-hidden="true">8.</strong> From Circuits to Polynomials</a></li><li class="chapter-item expanded "><a href="09-polynomial-commitment-schemes.html"><strong aria-hidden="true">9.</strong> Polynomial Commitment Schemes</a></li><li class="chapter-item expanded "><a href="10-hash-based-commitments-and-fri.html"><strong aria-hidden="true">10.</strong> Hash-Based Commitments and FRI</a></li><li class="chapter-item expanded affix "><li class="part-title">SNARK Construction</li><li class="chapter-item expanded "><a href="11-the-snark-recipe.html"><strong aria-hidden="true">11.</strong> The SNARK Recipe</a></li><li class="chapter-item expanded "><a href="12-groth16.html"><strong aria-hidden="true">12.</strong> Groth16</a></li><li class="chapter-item expanded "><a href="13-plonk.html"><strong aria-hidden="true">13.</strong> PLONK</a></li><li class="chapter-item expanded "><a href="14-lookup-arguments.html"><strong aria-hidden="true">14.</strong> Lookup Arguments</a></li><li class="chapter-item expanded "><a href="15-starks.html"><strong aria-hidden="true">15.</strong> STARKs</a></li><li class="chapter-item expanded affix "><li class="part-title">Zero-Knowledge</li><li class="chapter-item expanded "><a href="16-sigma-protocols.html"><strong aria-hidden="true">16.</strong> Sigma Protocols</a></li><li class="chapter-item expanded "><a href="17-the-zero-knowledge-property.html"><strong aria-hidden="true">17.</strong> The Zero-Knowledge Property</a></li><li class="chapter-item expanded "><a href="18-making-proofs-zero-knowledge.html"><strong aria-hidden="true">18.</strong> Making Proofs Zero-Knowledge</a></li><li class="chapter-item expanded affix "><li class="part-title">Advanced Topics</li><li class="chapter-item expanded "><a href="19-fast-sum-check-proving.html"><strong aria-hidden="true">19.</strong> Fast Sum-Check Proving</a></li><li class="chapter-item expanded "><a href="20-minimizing-commitment-costs.html"><strong aria-hidden="true">20.</strong> Minimizing Commitment Costs</a></li><li class="chapter-item expanded "><a href="21-the-two-classes-of-piops.html"><strong aria-hidden="true">21.</strong> The Two Classes of PIOPs</a></li><li class="chapter-item expanded "><a href="22-composition-and-recursion.html"><strong aria-hidden="true">22.</strong> Composition and Recursion</a></li><li class="chapter-item expanded "><a href="23-choosing-a-snark.html"><strong aria-hidden="true">23.</strong> Choosing a SNARK</a></li><li class="chapter-item expanded affix "><li class="part-title">Broader Context</li><li class="chapter-item expanded "><a href="24-mpc-and-zk-parallel-paths.html"><strong aria-hidden="true">24.</strong> MPC and ZK Parallel Paths</a></li><li class="chapter-item expanded "><a href="25-frontiers-and-open-problems.html"><strong aria-hidden="true">25.</strong> Frontiers and Open Problems</a></li><li class="chapter-item expanded "><a href="26-zk-in-the-cryptographic-landscape.html"><strong aria-hidden="true">26.</strong> ZK in the Cryptographic Landscape</a></li><li class="chapter-item expanded affix "><li class="part-title">Appendices</li><li class="chapter-item expanded "><a href="appendix-a-cryptographic-primitives.html"><strong aria-hidden="true">27.</strong> Cryptographic Primitives</a></li><li class="chapter-item expanded "><a href="appendix-b-historical-timeline.html"><strong aria-hidden="true">28.</strong> Historical Timeline</a></li><li class="chapter-item expanded "><a href="appendix-c-field-equations-cheat-sheet.html" class="active"><strong aria-hidden="true">29.</strong> Field Equations Cheat Sheet</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Minimizing Trust, Maximizing Truth</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/0xParti/zkBook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/0xParti/zkBook/edit/main/web/src/appendix-c-field-equations-cheat-sheet.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="appendix-c-field-equations-cheat-sheet"><a class="header" href="#appendix-c-field-equations-cheat-sheet">Appendix C: Field Equations Cheat Sheet</a></h1>
<p>A quick reference for the core equations that power zero-knowledge proof systems.</p>
<h2 id="schwartz-zippel-lemma"><a class="header" href="#schwartz-zippel-lemma">Schwartz-Zippel Lemma</a></h2>
<p><strong>The most important bound in the book.</strong></p>
<p>For a non-zero polynomial $p(X_1, \ldots, X_n)$ of total degree $d$ over a field $\mathbb{F}$:</p>
<p>$$\Pr_{r \leftarrow \mathbb{F}^n}[p(r) = 0] \leq \frac{d}{|\mathbb{F}|}$$</p>
<p><strong>Consequence</strong>: Random evaluation catches cheating with probability $\geq 1 - d/|\mathbb{F}|$.</p>
<h2 id="multilinear-extensions"><a class="header" href="#multilinear-extensions">Multilinear Extensions</a></h2>
<h3 id="lagrange-basis-polynomial"><a class="header" href="#lagrange-basis-polynomial">Lagrange Basis Polynomial</a></h3>
<p>For $w \in {0,1}^n$:</p>
<p>$$L_w(X) = \prod_{i=1}^{n} \left( w_i \cdot X_i + (1 - w_i)(1 - X_i) \right)$$</p>
<p><strong>Property</strong>: $L_w(w) = 1$ and $L_w(b) = 0$ for $b \neq w$.</p>
<h3 id="multilinear-extension-formula"><a class="header" href="#multilinear-extension-formula">Multilinear Extension Formula</a></h3>
<p>For $f: {0,1}^n \to \mathbb{F}$:</p>
<p>$$\tilde{f}(X) = \sum_{w \in {0,1}^n} f(w) \cdot L_w(X)$$</p>
<h3 id="equality-polynomial"><a class="header" href="#equality-polynomial">Equality Polynomial</a></h3>
<p>$$\widetilde{\text{eq}}(X, Y) = \prod_{i=1}^{n} \left( X_i Y_i + (1 - X_i)(1 - Y_i) \right)$$</p>
<p><strong>Property</strong>: $\widetilde{\text{eq}}(a, b) = 1$ if $a = b$, else $0$ (on hypercube).</p>
<h2 id="sum-check-protocol"><a class="header" href="#sum-check-protocol">Sum-Check Protocol</a></h2>
<p><em>Dimensions: Vector size $N = 2^n$; protocol runs $n$ rounds.</em></p>
<h3 id="the-claim"><a class="header" href="#the-claim">The Claim</a></h3>
<p>Prove:
$$H = \sum_{b \in {0,1}^n} g(b_1, \ldots, b_n)$$</p>
<h3 id="round-i-polynomial"><a class="header" href="#round-i-polynomial">Round $i$ Polynomial</a></h3>
<p>Prover sends:
$$s_i(X_i) = \sum_{b_{i+1}, \ldots, b_n \in {0,1}} g(r_1, \ldots, r_{i-1}, X_i, b_{i+1}, \ldots, b_n)$$</p>
<h3 id="verifier-checks"><a class="header" href="#verifier-checks">Verifier Checks</a></h3>
<ul>
<li>Round 1: $s_1(0) + s_1(1) = H$</li>
<li>Round $i &gt; 1$: $s_i(0) + s_i(1) = s_{i-1}(r_{i-1})$</li>
<li>Final: query oracle at $(r_1, \ldots, r_n)$ to check $s_n(r_n) = g(r_1, \ldots, r_n)$</li>
</ul>
<h3 id="soundness"><a class="header" href="#soundness">Soundness</a></h3>
<p>$$\epsilon \leq \frac{n \cdot d}{|\mathbb{F}|}$$</p>
<p>where $n$ is the number of variables and $d$ is the maximum individual degree. (More precisely: $\sum_i d_i / |\mathbb{F}|$ where $d_i$ is the degree in variable $i$.)</p>
<h2 id="vanishing-polynomials"><a class="header" href="#vanishing-polynomials">Vanishing Polynomials</a></h2>
<h3 id="over-roots-of-unity"><a class="header" href="#over-roots-of-unity">Over Roots of Unity</a></h3>
<p>For domain $H = {1, \omega, \omega^2, \ldots, \omega^{n-1}}$ where $\omega^n = 1$:</p>
<p>$$Z_H(X) = X^n - 1$$</p>
<p><strong>Property</strong>: $Z_H(\omega^i) = 0$ for all $i$, and $Z_H(r) \neq 0$ for $r \notin H$.</p>
<h3 id="over-boolean-hypercube"><a class="header" href="#over-boolean-hypercube">Over Boolean Hypercube</a></h3>
<p>For proving a polynomial vanishes on ${0,1}^n$, use the univariate identity:</p>
<p>$$Z_{{0,1}}(X) = X(X-1)$$</p>
<p>applied variable by variable in multilinear settings.</p>
<h2 id="r1cs-and-qap"><a class="header" href="#r1cs-and-qap">R1CS and QAP</a></h2>
<h3 id="r1cs-constraint"><a class="header" href="#r1cs-constraint">R1CS Constraint</a></h3>
<p><em>Dimensions: Matrices $A, B, C$ are $m \times n$; witness $z$ is $n \times 1$; result is $m \times 1$.</em></p>
<p>For witness vector $z = (1, x, w)$:</p>
<p>$$(A \cdot z) \circ (B \cdot z) = C \cdot z$$</p>
<p>where $\circ$ is entry-wise multiplication.</p>
<h3 id="qap-polynomial-identity"><a class="header" href="#qap-polynomial-identity">QAP Polynomial Identity</a></h3>
<p>Define polynomials $A(X), B(X), C(X)$ by interpolating constraint matrices.</p>
<p>The constraint system is satisfied iff:</p>
<p>$$A(X) \cdot B(X) - C(X) = H(X) \cdot Z_H(X)$$</p>
<p>where $Z_H(X) = \prod_{\alpha \in H}(X - \alpha)$ is the vanishing polynomial.</p>
<h2 id="kzg-polynomial-commitments"><a class="header" href="#kzg-polynomial-commitments">KZG Polynomial Commitments</a></h2>
<p><em>Dimensions: Polynomial degree $&lt; D$; SRS size $D+1$ elements.</em></p>
<h3 id="structured-reference-string-srs"><a class="header" href="#structured-reference-string-srs">Structured Reference String (SRS)</a></h3>
<p>Secret $\tau$; public: $(g, g^\tau, g^{\tau^2}, \ldots, g^{\tau^D})$</p>
<h3 id="commitment"><a class="header" href="#commitment">Commitment</a></h3>
<p>For $f(X) = \sum_i c_i X^i$:</p>
<p>$$C = g^{f(\tau)} = \prod_i (g^{\tau^i})^{c_i}$$</p>
<h3 id="evaluation-proof"><a class="header" href="#evaluation-proof">Evaluation Proof</a></h3>
<p>To prove $f(z) = v$: <em>(Prover knows $f(X)$; Verifier knows $C$, $z$, $v$)</em></p>
<ol>
<li>Compute quotient: $w(X) = \frac{f(X) - v}{X - z}$</li>
<li>Proof: $\pi = g^{w(\tau)}$</li>
</ol>
<h3 id="verification-pairing-check"><a class="header" href="#verification-pairing-check">Verification (Pairing Check)</a></h3>
<p>$$e(\pi, g^\tau \cdot g^{-z}) = e(C \cdot g^{-v}, g)$$</p>
<p>Equivalently:</p>
<p>$$e(g^{w(\tau)}, g^{\tau - z}) = e(g^{f(\tau) - v}, g)$$</p>
<h2 id="fri-folding"><a class="header" href="#fri-folding">FRI Folding</a></h2>
<h3 id="split-polynomial"><a class="header" href="#split-polynomial">Split Polynomial</a></h3>
<p>For $f(X) = f_E(X^2) + X \cdot f_O(X^2)$:</p>
<ul>
<li>$f_E(Y)$: even coefficients</li>
<li>$f_O(Y)$: odd coefficients</li>
</ul>
<h3 id="folding-with-challenge-alpha"><a class="header" href="#folding-with-challenge-alpha">Folding with Challenge $\alpha$</a></h3>
<p>$$f_1(Y) = f_E(Y) + \alpha \cdot f_O(Y)$$</p>
<p><strong>Property</strong>: $\deg(f_1) &lt; \deg(f)/2$</p>
<h3 id="consistency-check"><a class="header" href="#consistency-check">Consistency Check</a></h3>
<p>At query point $x$ (where $-x$ is its conjugate on the same coset), verify:</p>
<p>$$f_1(x^2) = \frac{f(x) + f(-x)}{2} + \alpha \cdot \frac{f(x) - f(-x)}{2x}$$</p>
<p>This uses: $f_E(x^2) = \frac{f(x) + f(-x)}{2}$ and $f_O(x^2) = \frac{f(x) - f(-x)}{2x}$.</p>
<h2 id="air-algebraic-intermediate-representation"><a class="header" href="#air-algebraic-intermediate-representation">AIR (Algebraic Intermediate Representation)</a></h2>
<h3 id="trace-polynomials"><a class="header" href="#trace-polynomials">Trace Polynomials</a></h3>
<p>For a trace matrix with $w$ registers and $T$ timesteps, interpolate each column over domain $H = {1, \omega, \ldots, \omega^{T-1}}$:</p>
<p>$$P_j(\omega^i) = \text{trace}[i][j]$$</p>
<h3 id="transition-constraints"><a class="header" href="#transition-constraints">Transition Constraints</a></h3>
<p>For a constraint &quot;register 0 at next step equals $f$ of current registers&quot;:</p>
<p>$$P_0(\omega X) = f(P_0(X), P_1(X), \ldots)$$</p>
<p>The shift $\omega X$ accesses &quot;next row&quot; values. Define constraint polynomial:</p>
<p>$$C(X) = P_0(\omega X) - f(P_0(X), P_1(X), \ldots)$$</p>
<h3 id="quotient-check"><a class="header" href="#quotient-check">Quotient Check</a></h3>
<p>Valid trace iff $C(X)$ vanishes on transition domain $H' = {1, \omega, \ldots, \omega^{T-2}}$:</p>
<p>$$Q(X) = \frac{C(X)}{Z_{H'}(X)}$$</p>
<p>is a polynomial (not rational function).</p>
<h3 id="boundary-constraints"><a class="header" href="#boundary-constraints">Boundary Constraints</a></h3>
<p>Pin inputs/outputs. For $P_j(\omega^k) = v$:</p>
<p>$$\frac{P_j(X) - v}{X - \omega^k}$$</p>
<p>must be a polynomial.</p>
<h2 id="plonk"><a class="header" href="#plonk">PLONK</a></h2>
<h3 id="gate-equation"><a class="header" href="#gate-equation">Gate Equation</a></h3>
<p>$$Q_L(X) \cdot a(X) + Q_R(X) \cdot b(X) + Q_O(X) \cdot c(X) + Q_M(X) \cdot a(X) \cdot b(X) + Q_C(X) = 0$$</p>
<p>on domain $H = {1, \omega, \omega^2, \ldots, \omega^{n-1}}$.</p>
<h3 id="permutation-grand-product"><a class="header" href="#permutation-grand-product">Permutation Grand Product</a></h3>
<p>Accumulator $Z(X)$ satisfies:</p>
<p>$$Z(1) = 1$$</p>
<p>$$Z(\omega^{i+1}) = Z(\omega^i) \cdot \frac{(a_i + \beta \omega^i + \gamma)(b_i + \beta k_1\omega^i + \gamma)(c_i + \beta k_2\omega^i + \gamma)}{(a_i + \beta \sigma_a(\omega^i) + \gamma)(b_i + \beta \sigma_b(\omega^i) + \gamma)(c_i + \beta \sigma_c(\omega^i) + \gamma)}$$</p>
<p><strong>Property</strong>: The product telescopes, so $Z(\omega^n) = Z(1) = 1$ iff all copy constraints hold.</p>
<h3 id="quotient-check-1"><a class="header" href="#quotient-check-1">Quotient Check</a></h3>
<p>All constraints satisfied iff there exists $t(X)$ with:</p>
<p>$$\text{(gate)} + \alpha \cdot \text{(permutation)} = t(X) \cdot Z_H(X)$$</p>
<h2 id="groth16"><a class="header" href="#groth16">Groth16</a></h2>
<h3 id="public-input-combination"><a class="header" href="#public-input-combination">Public Input Combination</a></h3>
<p>Given public inputs $(z_0, z_1, \ldots, z_\ell)$ where $z_0 = 1$:</p>
<p>$$\text{vk}<em>x = \sum</em>{j=0}^{\ell} z_j \cdot (\text{vk}_{IC})_j$$</p>
<p>where $(\text{vk}_{IC})_j = g_1^{\frac{\beta A_j(\tau) + \alpha B_j(\tau) + C_j(\tau)}{\gamma}}$ are verification key elements.</p>
<h3 id="verification-equation"><a class="header" href="#verification-equation">Verification Equation</a></h3>
<p>Given proof $(\pi_A, \pi_B, \pi_C) \in \mathbb{G}_1 \times \mathbb{G}_2 \times \mathbb{G}_1$:</p>
<p>$$e(\pi_A, \pi_B) \stackrel{?}{=} e(g_1^{\alpha}, g_2^{\beta}) \cdot e(\text{vk}_x, g_2^{\gamma}) \cdot e(\pi_C, g_2^{\delta})$$</p>
<p><strong>Verification cost</strong>: One MSM (size $\ell$) + 3-4 pairings, independent of circuit size.</p>
<h3 id="proof-size"><a class="header" href="#proof-size">Proof Size</a></h3>
<p>3 group elements: 128 bytes over BN254 (32 + 64 + 32 for $\mathbb{G}_1$, $\mathbb{G}_2$, $\mathbb{G}_1$).</p>
<h2 id="lookup-arguments"><a class="header" href="#lookup-arguments">Lookup Arguments</a></h2>
<h3 id="plookup-identity"><a class="header" href="#plookup-identity">Plookup Identity</a></h3>
<p>For lookups $f = {f_1, \ldots, f_n}$ and table $t = {t_1, \ldots, t_d}$, let $s = \text{sort}(f \cup t)$.</p>
<p>$$\prod_i (\gamma + f_i) \cdot \prod_i (\gamma(1+\beta) + t_i + \beta t_{i+1}) \cdot (1+\beta)^n$$</p>
<p>$$= \prod_i (\gamma(1+\beta) + s_i + \beta s_{i+1})$$</p>
<p><strong>Property</strong>: Equality holds iff $f \subseteq t$.</p>
<h3 id="logup-identity"><a class="header" href="#logup-identity">LogUp Identity</a></h3>
<p>For lookups $f = {f_1, \ldots, f_n}$ into table $t = {t_1, \ldots, t_d}$ with multiplicities $m_j$:</p>
<p>$$\sum_{i=1}^{n} \frac{1}{\gamma + f_i} = \sum_{j=1}^{d} \frac{m_j}{\gamma + t_j}$$</p>
<p><strong>Property</strong>: Equality holds iff each $f_i \in t$ and $m_j$ counts occurrences correctly.</p>
<p><strong>Soundness</strong>: By Schwartz-Zippel, equality holds with probability $\geq 1 - (n+d)/|\mathbb{F}|$ over random $\gamma$.</p>
<p><strong>Advantage</strong>: No sorting required; additive structure enables multi-table batching.</p>
<h2 id="gkr-protocol"><a class="header" href="#gkr-protocol">GKR Protocol</a></h2>
<p><em>Dimensions: Layer $i$ has $S_i$ gates; layer $i+1$ (inputs) has $S_{i+1}$ gates; $k = \log_2 S_i$.</em></p>
<h3 id="layer-reduction"><a class="header" href="#layer-reduction">Layer Reduction</a></h3>
<p>For layered circuit with values $V^{(i)}$ at layer $i$:</p>
<p>$$\tilde{V}^{(i)}(r) = \sum_{p,q \in {0,1}^k} \widetilde{\text{add}}^{(i)}(r, p, q) \cdot (\tilde{V}^{(i+1)}(p) + \tilde{V}^{(i+1)}(q))$$
$$+ \widetilde{\text{mult}}^{(i)}(r, p, q) \cdot \tilde{V}^{(i+1)}(p) \cdot \tilde{V}^{(i+1)}(q)$$</p>
<h3 id="sum-check-reduction"><a class="header" href="#sum-check-reduction">Sum-Check Reduction</a></h3>
<p>A claim about $\tilde{V}^{(i)}(r)$ reduces via sum-check to claims about $\tilde{V}^{(i+1)}(p^<em>)$ and $\tilde{V}^{(i+1)}(q^</em>)$ for random $p^<em>, q^</em>$.</p>
<p><strong>Soundness</strong>: Compound over $d$ layers, each with $O(\log n)$ sum-check rounds.</p>
<h2 id="inner-product-argument-ipa"><a class="header" href="#inner-product-argument-ipa">Inner Product Argument (IPA)</a></h2>
<h3 id="the-claim-1"><a class="header" href="#the-claim-1">The Claim</a></h3>
<p>Prove $\langle \vec{a}, \vec{b} \rangle = c$ for committed $\vec{a}$.</p>
<h3 id="folding-step"><a class="header" href="#folding-step">Folding Step</a></h3>
<p>Given challenge $\alpha$:</p>
<p>$$\vec{a}' = \alpha \cdot \vec{a}_L + \alpha^{-1} \cdot \vec{a}_R$$
$$\vec{b}' = \alpha^{-1} \cdot \vec{b}_L + \alpha \cdot \vec{b}_R$$</p>
<p><strong>Property</strong>: $\langle \vec{a}', \vec{b}' \rangle = \langle \vec{a}, \vec{b} \rangle + \alpha^2 L + \alpha^{-2} R$</p>
<p>where $L = \langle \vec{a}_L, \vec{b}_R \rangle$ and $R = \langle \vec{a}_R, \vec{b}_L \rangle$.</p>
<h3 id="proof-size-1"><a class="header" href="#proof-size-1">Proof Size</a></h3>
<p>$O(\log n)$ group elements after $\log n$ rounds.</p>
<h2 id="nova-folding"><a class="header" href="#nova-folding">Nova Folding</a></h2>
<h3 id="relaxed-r1cs"><a class="header" href="#relaxed-r1cs">Relaxed R1CS</a></h3>
<p>Standard R1CS: $(A \cdot z) \circ (B \cdot z) = C \cdot z$</p>
<p>Relaxed R1CS with scalar $u$ and error $E$:</p>
<p>$$(A \cdot z) \circ (B \cdot z) = u \cdot (C \cdot z) + E$$</p>
<p>A satisfying instance has $u = 1$ and $E = 0$.</p>
<h3 id="folding-two-instances"><a class="header" href="#folding-two-instances">Folding Two Instances</a></h3>
<p>Given instances $(u_1, E_1, z_1)$ and $(u_2, E_2, z_2)$, with challenge $r$:</p>
<p>$$u = u_1 + r \cdot u_2$$
$$E = E_1 + r \cdot T + r^2 \cdot E_2$$
$$z = z_1 + r \cdot z_2$$</p>
<p>where $T$ is the &quot;cross-term&quot; computed by the prover.</p>
<p><strong>Property</strong>: If both inputs satisfy relaxed R1CS, so does the folded instance.</p>
<h2 id="fiat-shamir-transform"><a class="header" href="#fiat-shamir-transform">Fiat-Shamir Transform</a></h2>
<h3 id="challenge-derivation"><a class="header" href="#challenge-derivation">Challenge Derivation</a></h3>
<p>$$r_i = H(\text{transcript prefix including all previous messages})$$</p>
<h3 id="security-requirement"><a class="header" href="#security-requirement">Security Requirement</a></h3>
<p>The hash must include:</p>
<ul>
<li>The public statement $x$</li>
<li>All previous commitments $C_1, \ldots, C_{i-1}$</li>
<li>All previous challenges $r_1, \ldots, r_{i-1}$</li>
</ul>
<h2 id="complexity-summary"><a class="header" href="#complexity-summary">Complexity Summary</a></h2>
<div class="table-wrapper"><table><thead><tr><th>System</th><th>Proof Size</th><th>Verification</th><th>Prover</th><th>Setup</th></tr></thead><tbody>
<tr><td>Groth16</td><td>$O(1)$</td><td>$O(1)$</td><td>$O(n \log n)$</td><td>Per-circuit</td></tr>
<tr><td>PLONK+KZG</td><td>$O(1)$</td><td>$O(1)$</td><td>$O(n \log n)$</td><td>Universal</td></tr>
<tr><td>STARK/FRI</td><td>$O(\log^2 n)$</td><td>$O(\log^2 n)$</td><td>$O(n \log n)$</td><td>Transparent</td></tr>
<tr><td>Bulletproofs</td><td>$O(\log n)$</td><td>$O(n)$</td><td>$O(n \log n)$</td><td>Transparent</td></tr>
<tr><td>Sum-check IP</td><td>$O(\log n)$</td><td>$O(\log n)$</td><td>$O(n)$</td><td>None</td></tr>
</tbody></table>
</div>
<h2 id="field-sizes-common-choices"><a class="header" href="#field-sizes-common-choices">Field Sizes (Common Choices)</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Size</th><th>Security</th><th>Use Case</th></tr></thead><tbody>
<tr><td>BN254 scalar</td><td>$\approx 2^{254}$</td><td>~100 bits</td><td>Ethereum, Groth16, PLONK</td></tr>
<tr><td>BLS12-381 scalar</td><td>$\approx 2^{255}$</td><td>~128 bits</td><td>Zcash, many SNARKs</td></tr>
<tr><td>Goldilocks</td><td>$2^{64} - 2^{32} + 1$</td><td>~100 bits*</td><td>Plonky2, fast arithmetic</td></tr>
<tr><td>Baby Bear</td><td>$2^{31} - 2^{27} + 1$</td><td>~100 bits*</td><td>RISC Zero</td></tr>
<tr><td>Mersenne-31</td><td>$2^{31} - 1$</td><td>~100 bits*</td><td>Circle STARKs</td></tr>
</tbody></table>
</div>
<p>*Small fields require extension fields for cryptographic security; base field security refers to the overall system design.</p>
<h2 id="quick-reference-what-to-use-when"><a class="header" href="#quick-reference-what-to-use-when">Quick Reference: What to Use When</a></h2>
<p><strong>Proving a sum over hypercube</strong>: Sum-check protocol</p>
<p><strong>Encoding data as polynomial</strong>: Multilinear extension (hypercube) or Lagrange interpolation (roots of unity)</p>
<p><strong>Binding prover to polynomial</strong>: KZG (trusted setup, constant size), FRI (transparent, logÂ² size), IPA (no pairings, log size)</p>
<p><strong>Checking polynomial identity on a domain</strong>: Quotient by $Z_H(X) = X^n - 1$ for roots of unity</p>
<p><strong>Checking table membership</strong>: Lookup argument (Plookup with sorting, LogUp without)</p>
<p><strong>Verifying circuit layer-by-layer</strong>: GKR protocol with sum-check at each layer</p>
<p><strong>Incremental computation</strong>: Nova folding (amortize SNARK cost across steps)</p>
<p><strong>Eliminating interaction</strong>: Fiat-Shamir with complete transcript hashing</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="appendix-b-historical-timeline.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="appendix-b-historical-timeline.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
